!function e(t,n,i){function a(r,o){if(!n[r]){if(!t[r]){var s="function"==typeof require&&require;if(!o&&s)return s(r,!0);if(u)return u(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return a(n?n:e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var u="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var a=e("./modules/app.js"),u=i(a);u["default"].start()},{"./modules/app.js":2}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../../lib/json-storage"),o=i(r),s=e("./states"),l=i(s),c=e("./state-factory"),f=i(c),d=e("../../common/modes"),v=(i(d),e("./views/app-view")),h=i(v),_=e("./models/app-model"),y=i(_),m=function(){function e(){a(this,e),this._view=new h["default"],this._model=new y["default"]}return u(e,[{key:"start",value:function(){this.transitionTo(l["default"].SETUP)}},{key:"transitionTo",value:function(e){var t=this._model.getStateInstance();t&&t.onExit(),this._model.setStateInstance(f["default"].getInstance(e)),this._view.transitionTo(e),this._model.getStateInstance().onEnter()}},{key:"setMode",value:function(e){o["default"].set("mode",e)}},{key:"getMode",value:function(){return o["default"].get("mode")}},{key:"setScore",value:function(e){this._view.setScore(e)}}]),e}(),p=new m;n["default"]=p},{"../../common/modes":27,"../../lib/json-storage":29,"./models/app-model":5,"./state-factory":9,"./states":10,"./views/app-view":21}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./die"),o=i(r),s=function(){function e(){a(this,e),this._numberOfFaces=0,this._numberOfDice=0,this._diceSum=0,this._dice=[]}return u(e,[{key:"roll",value:function(){var e=this;this._diceSum=0,this._dice.forEach(function(t){var n=e._generateDieValue();e._diceSum+=n,t.setValue(n)})}},{key:"getDiceSum",value:function(){return this._diceSum}},{key:"setNumberOfDice",value:function(e){e!=this._numberOfDice&&(this._numberOfDice=e,this._removeDice(),this._createDice())}},{key:"setNumberOfFaces",value:function(e){this._numberOfFaces=e}},{key:"getNumberOfFaces",value:function(){return this._numberOfFaces}},{key:"clear",value:function(){this._dice.forEach(function(e){return e.clear()})}},{key:"_removeDice",value:function(){this._dice.forEach(function(e){return e.destroy()}),this._dice=[]}},{key:"_createDice",value:function(){for(var e=0;e<this._numberOfDice;e++){var t=new o["default"];this._dice.push(t)}}},{key:"_generateDieValue",value:function(){return Math.floor(Math.random()*this._numberOfFaces)+1}}]),e}();n["default"]=new s},{"./die":4}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./views/die-view"),o=i(r),s=e("./models/die-model"),l=i(s),c=function(){function e(){a(this,e),this._view=new o["default"],this._model=new l["default"]}return u(e,[{key:"setValue",value:function(e){this._view.setValue(e),this._model.setValue(e)}},{key:"getValue",value:function(){return this._model.getValue()}},{key:"clear",value:function(){this._view.clear(),this._model.clear()}},{key:"destroy",value:function(){this._view.destroy()}}]),e}();n["default"]=c},{"./models/die-model":6,"./views/die-view":23}],5:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this._stateInstance=null,this._mode=null}return a(e,[{key:"setStateInstance",value:function(e){this._stateInstance=e}},{key:"getStateInstance",value:function(){return this._stateInstance}},{key:"setMode",value:function(e){this._mode=e}},{key:"getMode",value:function(){return this._mode}}]),e}();n["default"]=u},{}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this._value=0}return a(e,[{key:"setValue",value:function(e){this._value=e}},{key:"getValue",value:function(){return this._value}},{key:"clear",value:function(){this._value=0}}]),e}();n["default"]=u},{}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t){i(this,e),this._value=t,this._selected=!1,this._used=!1}return a(e,[{key:"getValue",value:function(){return this._value}},{key:"toggleSelected",value:function(){this._selected=!this._selected}},{key:"isSelected",value:function(){return this._selected}},{key:"markNotSelected",value:function(){this._selected=!1}},{key:"markUsed",value:function(){this._used=!0}},{key:"isNotUsed",value:function(){return!this._used}}]),e}();n["default"]=u},{}],8:[function(e,t,n){"use strict";function i(e,t){var n=t.map(function(e){return e.getValue()}).filter(function(t){return t<=e});return a(e,n)}function a(e,t){return 0==e||t.reduce(function(n,i,u){var r=e-i,o=[].concat(t.slice(0,u),t.slice(u+1,t.length));return r<0?n:n||a(r,o)},!1)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],9:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./states"),o=i(r),s=e("./states/setup-state"),l=i(s),c=e("./states/roll-state"),f=i(c),d=e("./states/evaluate-roll-state"),v=i(d),h=e("./states/choose-tiles-state"),_=i(h),y=e("./states/check-win-state"),m=i(y),p=e("./states/reset-dice-state"),b=i(p),k=e("./states/win-state"),g=i(k),w=e("./states/lose-state"),E=i(w),O={};O[o["default"].SETUP]=new l["default"],O[o["default"].ROLL]=new f["default"],O[o["default"].EVALUATE_ROLL]=new v["default"],O[o["default"].CHOOSE_TILES]=new _["default"],O[o["default"].CHECK_WIN]=new m["default"],O[o["default"].RESET_DICE]=new b["default"],O[o["default"].WIN]=new g["default"],O[o["default"].LOSE]=new E["default"];var T=function(){function e(){a(this,e)}return u(e,null,[{key:"getInstance",value:function(e){return O[e]}}]),e}();n["default"]=T},{"./states":10,"./states/check-win-state":11,"./states/choose-tiles-state":12,"./states/evaluate-roll-state":13,"./states/lose-state":14,"./states/reset-dice-state":15,"./states/roll-state":16,"./states/setup-state":17,"./states/win-state":18}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={SETUP:1,ROLL:2,EVALUATE_ROLL:3,CHOOSE_TILES:4,CHECK_WIN:5,RESET_DICE:6,LOSE:7,WIN:8}},{}],11:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../app"),o=i(r),s=e("../states"),l=i(s),c=e("../tiles"),f=i(c),d=function(){function e(){a(this,e)}return u(e,[{key:"onEnter",value:function(){var e=f["default"].getRemainingCount();0==e?o["default"].transitionTo(l["default"].WIN):o["default"].transitionTo(l["default"].RESET_DICE)}},{key:"onExit",value:function(){}}]),e}();n["default"]=d},{"../app":2,"../states":10,"../tiles":20}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../app"),o=i(r),s=e("../states"),l=i(s),c=e("../dice"),f=i(c),d=e("../tiles"),v=i(d),h=e("../views/choose-tiles-view"),_=i(h),y=function(){function e(){a(this,e),this._view=new _["default"]}return u(e,[{key:"onEnter",value:function(){v["default"].clearSelected(),v["default"].markAllTilesActive(),v["default"].addClickListeners(this._handleTileClick),this._view.addUseTilesListener(this._handleUseTiles)}},{key:"onExit",value:function(){v["default"].removeClickListeners(this._handleTileClick),this._view.removeUseTilesListener(this._handleUseTiles)}},{key:"_handleTileClick",value:function(e){v["default"].toggleTile(e.target)}},{key:"_handleUseTiles",value:function(){f["default"].getDiceSum()===v["default"].getSelectedTileSum()&&(v["default"].useSelectedTiles(),o["default"].transitionTo(l["default"].CHECK_WIN))}}]),e}();n["default"]=y},{"../app":2,"../dice":3,"../states":10,"../tiles":20,"../views/choose-tiles-view":22}],13:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../app"),o=i(r),s=e("../states"),l=i(s),c=e("../dice"),f=i(c),d=e("../tiles"),v=i(d),h=e("../moves-left-analyzer"),_=i(h),y=function(){function e(){a(this,e)}return u(e,[{key:"onEnter",value:function(){(0,_["default"])(f["default"].getDiceSum(),v["default"].getRemainingTiles())?o["default"].transitionTo(l["default"].CHOOSE_TILES):o["default"].transitionTo(l["default"].LOSE)}},{key:"onExit",value:function(){}}]),e}();n["default"]=y},{"../app":2,"../dice":3,"../moves-left-analyzer":8,"../states":10,"../tiles":20}],14:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../../../common/stat-tracker"),o=i(r),s=e("../app"),l=i(s),c=e("../states"),f=i(c),d=e("../tiles"),v=i(d),h=e("../views/lose-view"),_=i(h),y=function(){function e(){a(this,e),this._view=new _["default"]}return u(e,[{key:"onEnter",value:function(){var e=v["default"].getRemainingTiles().reduce(function(e,t){return e+t.getValue()},"");l["default"].setScore(e),o["default"].addLoss(e),window.opener.refreshStats(),this._view.addPlayAgainListener(this._handlePlayAgain)}},{key:"onExit",value:function(){this._view.removePlayAgainListener(this._handlePlayAgain)}},{key:"_handlePlayAgain",value:function(e){e.preventDefault(),l["default"].transitionTo(f["default"].SETUP)}}]),e}();n["default"]=y},{"../../../common/stat-tracker":28,"../app":2,"../states":10,"../tiles":20,"../views/lose-view":24}],15:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../app"),o=i(r),s=e("../states"),l=i(s),c=e("../dice"),f=i(c),d=e("../tiles"),v=i(d),h=function(){function e(){a(this,e)}return u(e,[{key:"onEnter",value:function(){var e=Math.ceil(v["default"].getRemainingTilesSum()/f["default"].getNumberOfFaces());f["default"].setNumberOfDice(Math.min(e,o["default"].getMode().numberOfDice)),f["default"].clear(),o["default"].transitionTo(l["default"].ROLL)}},{key:"onExit",value:function(){}}]),e}();n["default"]=h},{"../app":2,"../dice":3,"../states":10,"../tiles":20}],16:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../app"),o=i(r),s=e("../states"),l=i(s),c=e("../dice"),f=i(c),d=e("../tiles"),v=i(d),h=e("../views/roll-view"),_=i(h),y=function(){function e(){a(this,e),this._view=new _["default"]}return u(e,[{key:"onEnter",value:function(){v["default"].markAllTilesNotActive(),this._view.addRollListener(this._handleRollButtonClick)}},{key:"onExit",value:function(){this._view.removeRollListener(this._handleRollButtonClick)}},{key:"_handleRollButtonClick",value:function(){f["default"].roll(),o["default"].transitionTo(l["default"].EVALUATE_ROLL)}}]),e}();n["default"]=y},{"../app":2,"../dice":3,"../states":10,"../tiles":20,"../views/roll-view":25}],17:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../app"),o=i(r),s=e("../states"),l=i(s),c=e("../dice"),f=i(c),d=e("../tiles"),v=i(d),h=function(){function e(){a(this,e)}return u(e,[{key:"onEnter",value:function(){v["default"].setNumberOfTiles(o["default"].getMode().numberOfTiles),f["default"].setNumberOfDice(o["default"].getMode().numberOfDice),f["default"].setNumberOfFaces(o["default"].getMode().numberOfFaces),f["default"].clear(),o["default"].transitionTo(l["default"].ROLL)}},{key:"onExit",value:function(){}}]),e}();n["default"]=h},{"../app":2,"../dice":3,"../states":10,"../tiles":20}],18:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../app"),o=(i(r),e("../../../lib/json-storage")),s=(i(o),e("../../../common/stat-tracker")),l=i(s),c=function(){function e(){a(this,e)}return u(e,[{key:"onEnter",value:function(){l["default"].addWin(),window.opener.celebrate(),window.opener.refreshStats(),window.close()}},{key:"onExit",value:function(){}}]),e}();n["default"]=c},{"../../../common/stat-tracker":28,"../../../lib/json-storage":29,"../app":2}],19:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./views/tile-view.js"),o=i(r),s=e("./models/tile-model.js"),l=i(s),c=function(){function e(t){a(this,e),this._view=new o["default"](t),this._model=new l["default"](t)}return u(e,[{key:"addClickListener",value:function(e){this._view.addClickListener(e)}},{key:"removeClickListener",value:function(e){this._view.removeClickListener(e)}},{key:"getValue",value:function(){return this._model.getValue()}},{key:"toggleSelected",value:function(){this._view.toggleSelected(),this._model.toggleSelected()}},{key:"isSelected",value:function(){return this._model.isSelected()}},{key:"markUsed",value:function(){this._view.markUsed(),this._model.markUsed()}},{key:"markNotSelected",value:function(){this._view.markNotSelected(),this._model.markNotSelected()}},{key:"markActive",value:function(){this._view.markActive()}},{key:"markNotActive",value:function(){this._view.markNotActive()}},{key:"isNotUsed",value:function(){return this._model.isNotUsed()}},{key:"destroy",value:function(){return this._view.destroy()}}]),e}();n["default"]=c},{"./models/tile-model.js":7,"./views/tile-view.js":26}],20:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./tile"),o=i(r),s=function(){function e(){a(this,e),this._tiles=[],this._numberOfTiles=0}return u(e,[{key:"setNumberOfTiles",value:function(e){this._numberOfTiles=e,this._tiles.forEach(function(e){return e.destroy()}),this._tiles=[];for(var t=1;t<=this._numberOfTiles;t++)this._tiles.push(new o["default"](t))}},{key:"addClickListeners",value:function(e){this._tiles.forEach(function(t){t.addClickListener(e)})}},{key:"removeClickListeners",value:function(e){this._tiles.forEach(function(t){t.removeClickListener(e)})}},{key:"toggleTile",value:function(e){var t=this._getTileForElement(e);t.toggleSelected()}},{key:"useSelectedTiles",value:function(){this._getSelectedTiles().forEach(function(e){e.markUsed()})}},{key:"markAllTilesActive",value:function(){this._tiles.forEach(function(e){return e.markActive()})}},{key:"markAllTilesNotActive",value:function(){this._tiles.forEach(function(e){return e.markNotActive()})}},{key:"getSelectedTileSum",value:function(){return this._getSelectedTiles().reduce(function(e,t){return e+t.getValue()},0)}},{key:"clearSelected",value:function(){this._tiles.forEach(function(e){return e.markNotSelected()})}},{key:"getRemainingTiles",value:function(){return this._tiles.filter(function(e){return e.isNotUsed()})}},{key:"getRemainingCount",value:function(){return this.getRemainingTiles().length}},{key:"getRemainingTilesSum",value:function(){return this.getRemainingTiles().reduce(function(e,t){return e+t.getValue()},0)}},{key:"_getSelectedTiles",value:function(){return this._tiles.filter(function(e){return e.isSelected()})}},{key:"_getTileForElement",value:function(e){var t=Number(e.attributes.getNamedItem("data-number").value);return this._tiles[t-1]}}]),e}();n["default"]=new s},{"./tile":19}],21:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../states"),o=i(r),s=function(){function e(){a(this,e),this._el=document.querySelector("#close-the-tab"),this._stateClasses={},this._stateClasses[o["default"].SETUP]="state-setup",this._stateClasses[o["default"].ROLL]="state-roll",this._stateClasses[o["default"].EVALUATE_ROLL]="state-evaluate-roll",this._stateClasses[o["default"].CHOOSE_TILES]="state-choose-tiles",this._stateClasses[o["default"].CHECK_WIN]="state-check-win",this._stateClasses[o["default"].RESET_DICE]="state-reset-dice",this._stateClasses[o["default"].LOSE]="state-lose",this._stateClasses[o["default"].WIN]="state-win"}return u(e,[{key:"transitionTo",value:function(e){this._removeStateClasses(),this._addStateClass(e)}},{key:"showWinMessage",value:function(){this._el.classList.add("is-celebrating")}},{key:"hideWinMessage",value:function(){this._el.classList.remove("is-celebrating")}},{key:"setScore",value:function(e){document.querySelector("#score").textContent=e}},{key:"_removeStateClasses",value:function(){var e=this;Object.values(this._stateClasses).forEach(function(t){return e._el.classList.remove(t)})}},{key:"_addStateClass",value:function(e){this._el.classList.add(this._stateClasses[e])}}]),e}();n["default"]=s},{"../states":10}],22:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this._useTilesButton=document.querySelector("#use-tiles-button")}return a(e,[{key:"addUseTilesListener",value:function(e){this._useTilesButton.addEventListener("click",e)}},{key:"removeUseTilesListener",value:function(e){this._useTilesButton.removeEventListener("click",e)}}]),e}();n["default"]=u},{}],23:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this._el=document.createElement("div"),this._el.classList.add("die","centered-group__item"),this._parentEl=document.querySelector(".dice"),this._parentEl.appendChild(this._el)}return a(e,[{key:"setValue",value:function(e){this._el.textContent=e}},{key:"clear",value:function(){this.setValue("")}},{key:"destroy",value:function(){this._parentEl.removeChild(this._el)}}]),e}();n["default"]=u},{}],24:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this._playAgainButton=document.querySelector("#play-again-button")}return a(e,[{key:"addPlayAgainListener",value:function(e){this._playAgainButton.addEventListener("click",e)}},{key:"removePlayAgainListener",value:function(e){this._playAgainButton.removeEventListener("click",e)}}]),e}();n["default"]=u},{}],25:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this._rollButton=document.querySelector("#roll-button")}return a(e,[{key:"addRollListener",value:function(e){this._rollButton.addEventListener("click",e)}},{key:"removeRollListener",value:function(e){this._rollButton.removeEventListener("click",e)}}]),e}();n["default"]=u},{}],26:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t){i(this,e),this._el=document.createElement("div"),this._el.classList.add("tile","centered-group__item"),this._el.setAttribute("data-number",t),this._el.textContent=t,this._parentEl=document.querySelector(".tile-group"),this._parentEl.appendChild(this._el)}return a(e,[{key:"toggleSelected",value:function(){this._el.classList.toggle("is-selected")}},{key:"markNotSelected",value:function(){this._el.classList.remove("is-selected")}},{key:"markUsed",value:function(){this._el.classList.add("is-used")}},{key:"markActive",value:function(){this._el.classList.add("is-active")}},{key:"markNotActive",value:function(){this._el.classList.remove("is-active")}},{key:"addClickListener",value:function(e){this._el.addEventListener("click",e)}},{key:"removeClickListener",value:function(e){this._el.removeEventListener("click",e)}},{key:"destroy",value:function(){this._parentEl.removeChild(this._el)}}]),e}();n["default"]=u},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={CLASSIC:{name:"classic",numberOfTiles:9,numberOfDice:2,numberOfFaces:6},BRIAN:{name:"brian",numberOfTiles:13,numberOfDice:3,numberOfFaces:9}};"true"==localStorage.debug&&(i.TEST={name:"test",numberOfTiles:1,numberOfDice:1,numberOfFaces:1}),n["default"]=i},{}],28:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../lib/json-storage"),o=i(r),s=function(){function e(){a(this,e),this._key="stats",this._refreshStats()}return u(e,[{key:"addWin",value:function(){this._addGame(0)}},{key:"addLoss",value:function(e){this._addGame(e)}},{key:"getStats",value:function(){return this._refreshStats(),this._stats}},{key:"_addGame",value:function(e){this._refreshStats();var t=o["default"].get("mode").name;this._stats.push({mode:t,score:e}),this._chompStats(),o["default"].set(this._key,this._stats)}},{key:"_chompStats",value:function(){this._stats.length>10&&this._stats.splice(0,1)}},{key:"_refreshStats",value:function(){this._stats=o["default"].get(this._key)||[]}}]),e}();n["default"]=new s},{"../lib/json-storage":29}],29:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t){i(this,e),this._storage=t,this._storageKey="JSON_STORAGE",this._hash={},void 0==this._storage[this._storageKey]&&this._store()}return a(e,[{key:"set",value:function(e,t){this._hash=this._retrieve(),this._hash[e]=t,this._store()}},{key:"get",value:function(e){return this._retrieve()[e]}},{key:"_store",value:function(){var e=JSON.stringify(this._hash);this._storage[this._storageKey]=e}},{key:"_retrieve",value:function(){var e=this._storage[this._storageKey];return JSON.parse(e)}}]),e}();n["default"]=new u(localStorage)},{}]},{},[1,29]);